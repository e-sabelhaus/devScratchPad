package photoCorrecting;

import java.awt.Color;
import java.io.*;
import javax.swing.JOptionPane;

import shuffleCards.Card;

class SabelhausPRJ3 {
	
	public static void main(String[] args) throws IOException {
		
		String fileFolder1 = JOptionPane.showInputDialog("Input encrypted photo path");
		String fileFolder2 = JOptionPane.showInputDialog("Input decrypted photo path");
		
		InputStream photoFile = new FileInputStream(fileFolder1);
		OutputStream photoFile2 = new FileOutputStream(fileFolder2);
		
		//Instantiate new picture object from .png file
		Picture picture1 = new Picture(photoFile);
		
		//Calculate the total pixels
		int pixelCount = PixelDecryptor.getPixelCount(picture1.getHeight(), picture1.getWidth());
		System.out.println("Total pixels:\t" + pixelCount);
		
		
		//Decrypt the picture
		for (int row=0; row < picture1.getHeight(); row++) {
			
			Color[] pixels = picture1.getPixels(row);
			
			for(int col=0; col < picture1.getWidth(); col++) {
				
				pixels[col] = PixelDecryptor.decryptPixel(pixels[col]);
			}
			picture1.setPixels(row, pixels);
		}
		
		picture1.write(photoFile2);
		
		
		
	}
}
